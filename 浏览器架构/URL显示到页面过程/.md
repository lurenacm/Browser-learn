## URL 输入到页面显示的过程发生了什么
> 从在浏览器中输入到页面显示的过程主要经历下面几件事
* 1. 查找强缓存。如果命中强缓存直接返回资源
* 2. 查找 DNS 缓存。没有缓存则将域名解析成 IP 地址，因为数据包需要通过IP地址传送。
* 3. TCP 连接。需要三次握手，连接成功后数据可以开始传输
* 4. 发送 HTTP 请求。携带请求的方法，请求头，HTTP 版本，URL 发送给服务器
* 5. 服务器处理请求并返回 HTTP 报文
* 6. 断开 TCP 连接。如果是响应头中有 `connection:keep-alive`，则不断开连接
* 7. 浏览器开始渲染。将`HTML`构建成`DOM树`，将CSS构建成 `CSSOM树 CSS Object Model`。最后生成一个 `render tree`，浏览器根据`render tree`生成页面


### DNS 解析
> 将域名解析成 IP 地址，因为数据包需要通过 IP 地址传送。每一次解析都会花费 20-120 毫秒
* 第一次输入地址后，浏览器会将域名进行一次 `DNS解析`，将解析后的结果缓存下来。
* 第二次再次输入地址，`DNS解析` 会从本地缓存中`递归查询`，如果本地没有会开始 `迭代查询`。
#### 递归查询
> 所谓递归查询是指：浏览器会先从本地缓存中查找 `DNS解析后的缓存`，到本地的 `hosts文件` 查找，到本地的`DNS解析器缓存`查找，最后找到 `本地DNS服务器` 查找。在上面的任一个步骤中能找到则直接使用。如果在 `本地DNS服务器` 也没有找到，就会开始 `迭代查询`。

#### 迭代查询
[DNS迭代查询](./img/DNS迭代查询.jpg)
> 所谓的迭代查询是指：以本地`DNS`服务器为中心，分别向 `根域名服务器，顶级域名服务器，权威域名服务器` 查找信息后返回给浏览器的过程。





